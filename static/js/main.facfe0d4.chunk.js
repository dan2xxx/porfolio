(this.webpackJsonpportfolioweb=this.webpackJsonpportfolioweb||[]).push([[0],{31:function(e,t,n){e.exports={container:"Contacts_container__1TOSg",left_container:"Contacts_left_container__1Zoi5",right_container:"Contacts_right_container__4Uid4",email:"Contacts_email__3OPEe",message:"Contacts_message__27WlY",button:"Contacts_button__22w-c",status:"Contacts_status__u02Tp"}},36:function(e,t,n){e.exports={menuLinks:"Navbar_menuLinks__3nKC5",adminPanel:"Navbar_adminPanel__dve35"}},37:function(e,t,n){e.exports={container:"EditContacts_container__2_2Df",buttonContainer:"EditContacts_buttonContainer__1Rwcc",messagesContainer:"EditContacts_messagesContainer__IdfjJ",message:"EditContacts_message__2tW8V"}},51:function(e,t,n){e.exports={container:"Portfolio_container__1nC8R",scale:"Portfolio_scale__3MY9C"}},68:function(e,t,n){e.exports={ldsFacebook:"Loader_ldsFacebook__3yl8g"}},82:function(e,t,n){},83:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t),n.d(t,"Context",(function(){return q}));var a=n(1),c=n.n(a),i=n(16),o=n.n(i),s=(n(82),n(14)),r=(n(83),n(132)),l=n(135),j=n(137),u=n(138),d=n(142),b=n(29),O=n(36),h=n.n(O),f=n(70),x=n(134),m=n(4),g=Object(f.a)({palette:{type:"dark"}}),p=Object(r.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function v(e){var t=p();return Object(m.jsx)(x.a,{theme:g,children:Object(m.jsx)("div",{className:t.root,children:Object(m.jsx)(l.a,{position:"static",children:Object(m.jsxs)(j.a,{children:[Object(m.jsx)(b.b,{className:h.a.menuLinks,to:"/portfolio",children:Object(m.jsx)(d.a,{color:"inherit",children:"Portfolio"})}),Object(m.jsx)(b.b,{className:h.a.menuLinks,to:"/contacts",children:Object(m.jsx)(d.a,{color:"inherit",children:"Contacts"})}),e.isAdmin?Object(m.jsxs)("div",{className:h.a.adminPanel,children:[Object(m.jsx)(b.b,{className:h.a.menuLinks,to:"/add",children:Object(m.jsx)(d.a,{color:"inherit",children:"Add Photo"})}),Object(m.jsx)(b.b,{className:h.a.menuLinks,to:"/edit",children:Object(m.jsx)(d.a,{color:"inherit",children:"Edit contacts"})})]}):null,Object(m.jsx)(u.a,{variant:"h6",className:t.title,children:"The Retoucher"}),Object(m.jsx)(b.b,{className:h.a.menuLinks,to:"/login",children:Object(m.jsx)(d.a,{color:"inherit",children:e.userEmail?e.userEmail:"Login"})})]})})})})}var _=n(18),C=n(68),N=n.n(C),y=function(){return Object(m.jsxs)("div",{className:N.a.ldsFacebook,children:[Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{})]})},w=n(28),k=n(51),E=n.n(k),S=function(){var e=c.a.useContext(q).storage,t=Object(a.useState)([]),n=Object(s.a)(t,2),i=n[0],o=n[1],r=Object(a.useState)(!1),l=Object(s.a)(r,2),j=l[0],u=l[1];Object(a.useEffect)((function(){console.log("useEffect"),d()}),[]);var d=function(){var t=[];e.ref().listAll().then((function(e){e.items.forEach((function(e){e.getDownloadURL().then((function(e){t.push(e),o([].concat(Object(w.a)(i),t)),u(!0)}))}))}))};return Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:E.a.container,children:j?i.map((function(e){return Object(m.jsx)("div",{className:E.a.scale,children:Object(m.jsx)("img",{src:e,className:E.a.scale})},e)})):Object(m.jsx)(y,{})})})},L=n(44),I=n(31),M=n.n(I),P=function(e){var t=e.info[0].instagram,n=e.info[0].email,a=e.info[0].telegram;return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{children:Object(m.jsx)("p",{children:"Danyil Boiarchuk / \u0414\u0430\u043d\u0438\u0457\u043b \u0411\u043e\u044f\u0440\u0447\u0443\u043a"})}),Object(m.jsx)("div",{children:Object(m.jsx)("a",{href:"http://"+t,children:t})}),Object(m.jsx)("div",{children:Object(m.jsx)("a",{href:"http://"+a,children:a})}),Object(m.jsxs)("div",{children:[Object(m.jsx)("a",{href:"mailto:"+n,children:n})," "]})]})},A=n(25),U=n(141),B=function(e){var t=Object(a.useContext)(q).firestore,n=Object(a.useState)({mail:"",text:""}),c=Object(s.a)(n,2),i=c[0],o=c[1],r=Object(a.useState)(""),l=Object(s.a)(r,2),j=l[0],u=l[1];return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:M.a.status,children:j}),Object(m.jsx)("div",{className:M.a.email,children:Object(m.jsx)(U.a,{id:"email",label:"Email",variant:"outlined",fullWidth:!0,onChange:function(e){o(Object(A.a)(Object(A.a)({},i),{},{mail:e.target.value}))},value:i.mail})}),Object(m.jsx)("div",{className:M.a.message,children:Object(m.jsx)(U.a,{onChange:function(e){o(Object(A.a)(Object(A.a)({},i),{},{text:e.target.value}))},value:i.text,id:"outlined-multiline-static",label:"Write me something",multiline:!0,rows:5,variant:"outlined",fullWidth:!0})}),Object(m.jsx)("div",{className:M.a.button,children:Object(m.jsx)(d.a,{type:"submit",size:"large",variant:"contained",onClick:function(){var e=function(){var e=46656*Math.random()|0,t=46656*Math.random()|0;return(e=("000"+e.toString(36)).slice(-3))+("000"+t.toString(36)).slice(-3)}();t.collection("Messages").doc(e).set(Object(A.a)(Object(A.a)({},i),{},{id:e})).then((function(){u("Sent"),o({mail:"",text:""})})).catch((function(e){u("Something goes wrong"),console.log(e)}))},children:"Send"})})]})},D=function(){var e=Object(a.useContext)(q).firestore,t=Object(L.a)(e.collection("MyInfo")),n=Object(s.a)(t,2),c=n[0];return n[1]?Object(m.jsx)(y,{}):Object(m.jsxs)("div",{className:M.a.container,children:[Object(m.jsx)("div",{className:M.a.left_container,children:Object(m.jsx)(P,{info:c})}),Object(m.jsx)("div",{className:M.a.right_container,children:Object(m.jsx)(B,{})})]})},T=n(56),F=n.n(T),R=n(69),W=n(139),G=n(140),V=n(27),J=function(e){var t=Object(a.useContext)(q).auth,n=Object(_.g)(),c=function(){var a=Object(R.a)(F.a.mark((function a(){var c,i,o;return F.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=new V.a.auth.GoogleAuthProvider,a.next=3,t.signInWithPopup(c);case 3:i=a.sent,(o=i.user)&&(e.setUser(o),n.push("/"),console.log(o));case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(m.jsx)("div",{children:Object(m.jsx)(W.a,{children:Object(m.jsx)(G.a,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justify:"center",children:e.user.uid?Object(m.jsx)(d.a,{onClick:function(){V.a.auth().signOut().then((function(){e.setUser(""),n.push("/")})).catch((function(e){}))},variant:"outlined",children:"Logout"}):Object(m.jsx)(d.a,{onClick:c,variant:"outlined",children:"Login with Google"})})})})},Y=function(){var e=Object(a.useContext)(q).firebase,t=Object(a.useState)(!1),n=Object(s.a)(t,2),c=n[0],i=n[1],o=Object(a.useState)(""),l=Object(s.a)(o,2),j=l[0],u=l[1],b=Object(r.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}}}))(),O=function(t){console.log(t),i(!0),e.storage().ref().child(t.name).put(t).then((function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done"),console.log("Uploaded a blob or file!"),console.log(e),i(!1),u("Upload successful")}))};return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:b.root,children:[Object(m.jsx)("input",{accept:"image/*",className:b.input,id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){O(e.target.files[0])}}),Object(m.jsx)("label",{htmlFor:"contained-button-file",children:Object(m.jsx)(d.a,{style:{marginTop:"30px"},variant:"contained",color:"primary",component:"span",children:"Upload"})})]}),Object(m.jsx)("div",{children:j}),Object(m.jsx)("div",{children:c?Object(m.jsx)(y,{}):null})]})},z=n(19),H=n(37),K=n.n(H),Q=function(){var e=Object(a.useContext)(q).firestore,t=Object(L.a)(e.collection("MyInfo")),n=Object(s.a)(t,2),c=n[0],i=n[1],o=Object(a.useState)(""),r=Object(s.a)(o,2),l=r[0],j=r[1],u=Object(L.a)(e.collection("Messages"),{snapshotListenOptions:{includeMetadataChanges:!0}}),b=Object(s.a)(u,2),O=b[0],h=b[1];if(console.log(O),Object(a.useEffect)((function(){c&&j(Object(A.a)({},c[0]))}),[c]),i)return Object(m.jsx)(y,{});var f=function(e,t){var n=Object(z.a)({},t,e.target.value);j(Object(A.a)(Object(A.a)({},l),n)),console.log(l)},x=function(t){e.collection("Messages").doc(t).delete().then((function(){console.log("Document successfully deleted!")})).catch((function(e){console.error("Error removing document: ",e)}))};return Object(m.jsxs)("div",{className:K.a.container,children:[Object(m.jsxs)("form",{noValidate:!0,autoComplete:"off",children:[Object(m.jsx)(U.a,{onBlur:function(e){return f(e,"email")},id:"email",label:"Email",defaultValue:c[0].email}),Object(m.jsx)(U.a,{onBlur:function(e){return f(e,"telegram")},id:"telegram",label:"Telegram",defaultValue:c[0].telegram}),Object(m.jsx)(U.a,{onBlur:function(e){return f(e,"instagram")},id:"instagram",label:"Instagram",defaultValue:c[0].instagram})]}),Object(m.jsx)("div",{className:K.a.buttonContainer,children:Object(m.jsx)(d.a,{className:K.a.button,onClick:function(){e.collection("MyInfo").doc("info").update(Object(A.a)({},l)).then((function(e){console.log(e),console.log("Download successful")}))},variant:"contained",color:"primary",children:"Update"})}),Object(m.jsx)("div",{className:K.a.messagesContainer,children:h?Object(m.jsx)(y,{}):O.map((function(e,t){return Object(m.jsxs)("div",{className:K.a.message,children:[Object(m.jsx)("h3",{children:e.mail}),Object(m.jsx)("p",{children:e.text}),Object(m.jsx)(d.a,{className:K.a.button,onClick:function(){return x(e.id)},variant:"contained",color:"primary",children:"Delete"})]},t)}))})]})};var X=function(){var e=c.a.useState(""),t=Object(s.a)(e,2),n=t[0],a=t[1],i=c.a.useState(!1),o=Object(s.a)(i,2),r=o[0],l=o[1];return c.a.useEffect((function(){V.a.auth().onAuthStateChanged((function(e){e?(a(e),"gRQQIabMe9TtEuxVYlIB6g3Axvh2"===e.uid?l(!0):l(!1)):(a(""),l(!1))}))}),[n]),Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)(b.a,{children:[Object(m.jsx)(v,{userEmail:n.email,isAdmin:r}),Object(m.jsxs)(_.d,{children:[Object(m.jsx)(_.b,{path:"/",exact:!0,children:Object(m.jsx)(_.a,{to:"/portfolio"})}),Object(m.jsx)(_.b,{path:"/portfolio",render:function(){return Object(m.jsx)(S,{})}}),Object(m.jsx)(_.b,{path:"/contacts",render:function(){return Object(m.jsx)(D,{})}}),Object(m.jsx)(_.b,{path:"/add",render:function(){return Object(m.jsx)(Y,{})}}),Object(m.jsx)(_.b,{path:"/edit",render:function(){return Object(m.jsx)(Q,{})}}),Object(m.jsx)(_.b,{path:"/login",render:function(){return Object(m.jsx)(J,{user:n,setUser:a})}}),Object(m.jsx)(_.b,{path:"*",render:function(){return Object(m.jsx)("h2",{children:"404 NOT FOUND"})}})]})]})})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,143)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),i(e),o(e)}))};n(96),n(97);V.a.initializeApp({apiKey:"AIzaSyDiwaLm4w16xEDxM6y7a6WoAu-_N3CBE7A",authDomain:"portfolio-b8aa9.firebaseapp.com",databaseURL:"https://portfolio-b8aa9-default-rtdb.europe-west1.firebasedatabase.app",projectId:"portfolio-b8aa9",storageBucket:"portfolio-b8aa9.appspot.com",messagingSenderId:"967010287012",appId:"1:967010287012:web:821df9527de62b55431531",measurementId:"G-26PMYGJRXH"});var q=Object(a.createContext)(null),$=V.a.auth(),ee=V.a.firestore(),te=V.a.storage();o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(q.Provider,{value:{firebase:V.a,auth:$,firestore:ee,storage:te},children:Object(m.jsx)(X,{})})}),document.getElementById("root")),Z()}},[[98,1,2]]]);
//# sourceMappingURL=main.facfe0d4.chunk.js.map
(this.webpackJsonpportfolioweb=this.webpackJsonpportfolioweb||[]).push([[0],{34:function(e,t,n){e.exports={menuLinks:"Navbar_menuLinks__3nKC5",adminPanel:"Navbar_adminPanel__dve35"}},61:function(e,t,n){e.exports={ldsFacebook:"Loader_ldsFacebook__3yl8g"}},62:function(e,t,n){e.exports={photo:"Portfolio_photo__1ywdO"}},76:function(e,t,n){},77:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t),n.d(t,"Context",(function(){return J}));var c=n(1),a=n.n(c),o=n(15),i=n.n(o),r=(n(76),n(18)),s=(n(77),n(125)),l=n(128),j=n(130),u=n(131),b=n(135),d=n(28),f=n(34),O=n.n(f),h=n(4),x=Object(s.a)({root:{flexGrow:1},title:{flexGrow:1}});function p(e){var t=x();return Object(h.jsx)("div",{className:t.root,children:Object(h.jsx)(l.a,{position:"static",children:Object(h.jsxs)(j.a,{children:[Object(h.jsx)(d.b,{className:O.a.menuLinks,to:"/portfolio",children:Object(h.jsx)(b.a,{color:"inherit",children:"Portfolio"})}),Object(h.jsx)(d.b,{className:O.a.menuLinks,to:"/contacts",children:Object(h.jsx)(b.a,{color:"inherit",children:"Contacts"})}),e.isAdmin?Object(h.jsxs)("div",{className:O.a.adminPanel,children:[Object(h.jsx)(d.b,{className:O.a.menuLinks,to:"/add",children:Object(h.jsx)(b.a,{color:"inherit",children:"Add Photo"})}),Object(h.jsx)(d.b,{className:O.a.menuLinks,to:"/edit",children:Object(h.jsx)(b.a,{color:"inherit",children:"Edit contacts"})})]}):null,Object(h.jsx)(u.a,{variant:"h6",className:t.title,children:"The Retoucher"}),Object(h.jsx)(d.b,{className:O.a.menuLinks,to:"/login",children:Object(h.jsx)(b.a,{color:"inherit",children:e.userEmail?e.userEmail:"Login"})})]})})})}var m=n(17),g=n(61),v=n.n(g),w=function(){return Object(h.jsxs)("div",{className:v.a.ldsFacebook,children:[Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{})]})},C=n(27),y=n(62),N=n.n(y),k=function(){var e=a.a.useContext(J).storage,t=Object(c.useState)([]),n=Object(r.a)(t,2),o=n[0],i=n[1],s=Object(c.useState)(!1),l=Object(r.a)(s,2),j=l[0],u=l[1];Object(c.useEffect)((function(){console.log("useEffect"),b()}),[]);var b=function(){var t=[];e.ref().listAll().then((function(e){e.items.forEach((function(e){e.getDownloadURL().then((function(e){t.push(e),i([].concat(Object(C.a)(o),t)),u(!0)}))}))}))};return Object(h.jsxs)("div",{children:["portfolio",Object(h.jsxs)("div",{children:[console.log(o),j?o.map((function(e){return Object(h.jsx)("img",{src:e,className:N.a.photo},e)})):Object(h.jsx)(w,{})]})]})},L=n(46),I=function(){var e=Object(c.useContext)(J).firestore,t=Object(L.a)(e.collection("MyInfo")),n=Object(r.a)(t,2),a=n[0];if(n[1])return Object(h.jsx)(w,{});return Object(h.jsxs)("div",{children:["contacts",function(){var e=a[0].instagram,t=a[0].email,n=a[0].telegram;return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:e}),Object(h.jsx)("div",{children:t}),Object(h.jsx)("div",{children:n})]})}()]})},E=n(51),_=n.n(E),A=n(63),P=n(132),S=n(133),U=n(26),B=function(e){var t=Object(c.useContext)(J).auth,n=Object(m.g)(),a=function(){var c=Object(A.a)(_.a.mark((function c(){var a,o,i;return _.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return a=new U.a.auth.GoogleAuthProvider,c.next=3,t.signInWithPopup(a);case 3:o=c.sent,(i=o.user)&&(e.setUser(i),n.push("/"),console.log(i));case 6:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}();return Object(h.jsx)("div",{children:Object(h.jsx)(P.a,{children:Object(h.jsx)(S.a,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justify:"center",children:e.user.uid?Object(h.jsx)(b.a,{onClick:function(){U.a.auth().signOut().then((function(){e.setUser(""),n.push("/")})).catch((function(e){}))},variant:"outlined",children:"Logout"}):Object(h.jsx)(b.a,{onClick:a,variant:"outlined",children:"Login with Google"})})})})},F=function(){var e=Object(c.useContext)(J).firebase,t=Object(c.useState)(!1),n=Object(r.a)(t,2),a=n[0],o=n[1],i=Object(c.useState)(""),l=Object(r.a)(i,2),j=l[0],u=l[1],d=Object(s.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}}}))(),f=function(t){console.log(t),o(!0),e.storage().ref().child(t.name).put(t).then((function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done"),console.log("Uploaded a blob or file!"),console.log(e),o(!1),u("Upload successful")}))};return Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:d.root,children:[Object(h.jsx)("input",{accept:"image/*",className:d.input,id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){f(e.target.files[0])}}),Object(h.jsx)("label",{htmlFor:"contained-button-file",children:Object(h.jsx)(b.a,{variant:"contained",color:"primary",component:"span",children:"Upload"})})]}),Object(h.jsx)("div",{children:j}),Object(h.jsx)("div",{children:a?Object(h.jsx)(w,{}):null})]})},D=n(19),M=n(40),T=n(134),G=function(){var e=Object(c.useContext)(J).firestore,t=Object(L.a)(e.collection("MyInfo")),n=Object(r.a)(t,2),a=n[0],o=n[1],i=Object(c.useState)(""),s=Object(r.a)(i,2),l=s[0],j=s[1];if(Object(c.useEffect)((function(){a&&j(Object(M.a)({},a[0]))}),[a]),o)return Object(h.jsx)(w,{});var u=function(e,t){var n=Object(D.a)({},t,e.target.value);j(Object(M.a)(Object(M.a)({},l),n)),console.log(l)};return Object(h.jsxs)("div",{children:[Object(h.jsxs)("form",{noValidate:!0,autoComplete:"off",children:[Object(h.jsx)(T.a,{onBlur:function(e){return u(e,"email")},id:"email",label:"Email",defaultValue:a[0].email}),Object(h.jsx)(T.a,{onBlur:function(e){return u(e,"telegram")},id:"telegram",label:"Telegram",defaultValue:a[0].telegram}),Object(h.jsx)(T.a,{onBlur:function(e){return u(e,"instagram")},id:"instagram",label:"Instagram",defaultValue:a[0].instagram})]}),Object(h.jsx)(b.a,{onClick:function(){e.collection("MyInfo").doc("info").update(Object(M.a)({},l)).then((function(e){console.log(e),console.log("Download successful")}))},variant:"contained",color:"primary",children:"Update"})]})};var R=function(){var e=a.a.useState(""),t=Object(r.a)(e,2),n=t[0],c=t[1],o=a.a.useState(!1),i=Object(r.a)(o,2),s=i[0],l=i[1];return a.a.useEffect((function(){U.a.auth().onAuthStateChanged((function(e){e?(c(e),"gRQQIabMe9TtEuxVYlIB6g3Axvh2"===e.uid?l(!0):l(!1)):(c(""),l(!1))}))}),[n]),Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(d.a,{children:[Object(h.jsx)(p,{userEmail:n.email,isAdmin:s}),Object(h.jsxs)(m.d,{children:[Object(h.jsx)(m.b,{path:"/",exact:!0,children:Object(h.jsx)(m.a,{to:"/portfolio"})}),Object(h.jsx)(m.b,{path:"/portfolio",render:function(){return Object(h.jsx)(k,{})}}),Object(h.jsx)(m.b,{path:"/contacts",render:function(){return Object(h.jsx)(I,{})}}),Object(h.jsx)(m.b,{path:"/add",render:function(){return Object(h.jsx)(F,{})}}),Object(h.jsx)(m.b,{path:"/edit",render:function(){return Object(h.jsx)(G,{})}}),Object(h.jsx)(m.b,{path:"/login",render:function(){return Object(h.jsx)(B,{user:n,setUser:c})}}),Object(h.jsx)(m.b,{path:"*",render:function(){return Object(h.jsx)("h2",{children:"404 NOT FOUND"})}})]})]})})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,137)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),o(e),i(e)}))};n(90),n(91);U.a.initializeApp({apiKey:"AIzaSyDiwaLm4w16xEDxM6y7a6WoAu-_N3CBE7A",authDomain:"portfolio-b8aa9.firebaseapp.com",databaseURL:"https://portfolio-b8aa9-default-rtdb.europe-west1.firebasedatabase.app",projectId:"portfolio-b8aa9",storageBucket:"portfolio-b8aa9.appspot.com",messagingSenderId:"967010287012",appId:"1:967010287012:web:821df9527de62b55431531",measurementId:"G-26PMYGJRXH"});var J=Object(c.createContext)(null),z=U.a.auth(),H=U.a.firestore(),K=U.a.storage();i.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(J.Provider,{value:{firebase:U.a,auth:z,firestore:H,storage:K},children:Object(h.jsx)(R,{})})}),document.getElementById("root")),V()}},[[92,1,2]]]);
//# sourceMappingURL=main.6849c36d.chunk.js.map